# Gemini CLI MCP画像生成調査依頼

## 調査をお願いしたい内容

Gemini CLIでMCPサーバー経由の画像生成について、以下の点について最新情報（2025年1月時点）を調査してください。

### 1. Imagen API の2025年1月時点の料金

- **無料枠の詳細**
  - 月間無料生成枚数
  - 無料期間の制限
  - 無料枠での解像度制限

- **画像1枚あたりのコスト**
  - 解像度別の料金（512x512, 1024x1024など）
  - バッチ処理での割引有無
  - プリペイドやコミット割引

- **Google Cloud Platformとの統合**
  - GCP無料クレジットの適用可否
  - 請求アカウントの必要性
  - 他のGCPサービスとの連携

### 2. MCPサーバーの具体的な設定手順

- **Gemini CLIでImagenを使うための設定ファイル例**
  ```yaml
  # .gemini-cli-config.yaml の例
  mcp_servers:
    imagen:
      # 具体的な設定内容
  ```

- **認証方法の詳細**
  - APIキーの取得方法
  - サービスアカウントの設定
  - 環境変数での認証情報管理

- **エラーハンドリング**
  - よくあるエラーとその対処法
  - レート制限への対応
  - フォールバック処理の実装

### 3. チーム開発での実践的な共有方法

- **article-flowディレクトリをチームで共有する際のベストプラクティス**
  - 共有すべきファイルと共有すべきでないファイル
  - .gitignoreの推奨設定
  - チーム共通の設定ファイル構成

- **各メンバーが最小限の設定で使える方法**
  - 環境変数テンプレート（.env.example）
  - セットアップスクリプトの例
  - ドキュメント化すべき内容

- **セキュリティを保ちながら利便性を確保する方法**
  - APIキーの安全な管理方法
  - チーム内での権限管理
  - 監査ログの実装

### 4. 無料または低コストの代替案

- **Hugging Face APIとの連携**
  - 無料プランの制限
  - MCPサーバー経由での設定方法
  - 推奨モデル（Stable Diffusion系など）

- **ローカル実行可能なモデル**
  - 必要なハードウェアスペック
  - セットアップ手順
  - パフォーマンス比較

- **オープンソースの選択肢**
  - AUTOMATIC1111 WebUI
  - ComfyUI
  - その他のツールチェーンとの統合

## 実装例のリクエスト

以下の実装例を含めてください：

1. **最小構成の設定ファイル例**
   - Imagen API用
   - Hugging Face API用
   - ローカルモデル用

2. **記事生成ワークフローへの組み込み例**
   - prompts/フォルダ内での画像生成指示
   - 生成された画像の記事への埋め込み
   - メタデータの管理

3. **エラーハンドリングのコード例**
   - Python/JavaScriptでの実装
   - リトライ処理
   - 代替画像の使用

4. **チームセットアップスクリプト**
   ```bash
   # setup_image_generation.sh の例
   ```

## article-flowプロジェクトとの統合

現在のarticle-flowプロジェクト（SEO記事自動生成システム）に画像生成機能を追加する際の考慮点：

- 記事のどの段階で画像を生成するか
- プロンプトの自動生成方法
- 画像のSEO最適化（alt属性、ファイル名など）
- WordPressへの自動アップロード

## 期待する成果物

1. 各サービスの比較表（料金、機能、制限）
2. 推奨構成とその理由
3. 実装に必要な設定ファイル一式
4. チーム向けセットアップガイド
5. トラブルシューティングガイド

よろしくお願いします。