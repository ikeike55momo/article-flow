# チャット用記事生成プロンプト 使用ガイド（改訂版v2.1）

## 概要

GitHub Actionsワークフローと同等品質の記事を、LLMチャットを使って段階的に生成するためのプロンプト集です。
**v2.1では、スタイル仕様書の位置づけを明確化し、より柔軟な記事生成を実現しています。**

## 主な変更点（v2.1）

### スタイル仕様の明確化
- **article-style.md**を「CSSクラス名の仕様書」として位置づけ
- 記事構成はPhase 2で決定、Phase 3は構成に従って実装
- WordPress使用を前提とした説明を追加
- より柔軟でシンプルな記事生成プロセス

### プロンプトの改善
- **Phase 3を改修**: 構成とスタイルを明確に分離
- ブログカード機能をシンプル化（グリッド削除）
- 「参考例」であることを強調し、柔軟性を向上

## フォルダ構成

```
Prompt_v2/
├── CHAT_01_phase1_analysis.md      # Phase 1: リクエスト分析
├── CHAT_02_structure_generation.md # Phase 2: 記事構成生成
├── CHAT_03_content_generation_v2.md # Phase 3: HTML記事生成【v2.1改訂】
├── CHAT_04_factcheck.md            # Phase 4: ファクトチェック
├── CHAT_05_seo_metadata.md         # Phase 5: SEOメタ情報
├── CHAT_06_finalize.md             # Phase 6: 最終まとめ
├── README_CHAT_VERSION_v2.md       # この使用ガイド
├── article-style.md                 # CSSクラス名仕様書【更新】
└── article-template.html            # テンプレート（参考）
```

## 使用方法

### 事前準備

1. **記事情報の準備**
   - 記事タイトル
   - ターゲットペルソナ（例：30代女性、健康意識が高い、子育て中）
   - メタキーワード（カンマ区切り）
   - 目標文字数

2. **リサーチの実施**
   - Phase 1で生成されるリサーチクエリを使って情報収集
   - 信頼できる情報源のURL保存必須

3. **関連記事URLの準備**
   - 記事テーマに関連する既存記事のURL
   - ブログカード用に3-4記事程度

### 実行フロー

#### Phase 1: リクエスト分析
1. `CHAT_01_phase1_analysis.md` を開く
2. 【】内を実際の値に置き換える
3. LLMに送信
4. **出力**: JSON形式の分析結果
5. **次のアクション**: リサーチクエリを使って情報収集

#### Phase 2: 記事構成生成
1. `CHAT_02_structure_generation.md` を開く
2. Phase 1の結果とリサーチ結果を貼り付け
3. LLMに送信
4. **出力**: 記事構成とコンテンツ計画
5. **重要**: ここで決定した構成がPhase 3の基盤となる

#### Phase 3: HTML記事生成【v2.1】
1. `CHAT_03_content_generation_v2.md` を開く
2. Phase 1-2の結果とリサーチ結果（URL付き）を貼り付け
3. **article-style.md**のクラス名仕様を参照
4. LLMに送信
5. **出力**: Phase 2の構成に従った完全なHTML記事
6. **確認事項**: 
   - Phase 2の構成通りか
   - 出典リンクが正しく配置されているか
   - ブログカードのURLが適切か

#### Phase 4: ファクトチェック
1. `CHAT_04_factcheck.md` を開く
2. Phase 3の記事とリサーチ情報を貼り付け
3. LLMに送信
4. **出力**: 
   - 修正版HTML記事（必要に応じて）
   - 品質スコアJSON
5. **確認**: 修正内容の妥当性をチェック

#### Phase 5: SEOメタ情報生成
1. `CHAT_05_seo_metadata.md` を開く
2. Phase 4の最終記事と基本情報を貼り付け
3. LLMに送信
4. **出力**: SEOメタ情報JSON
5. **確認**: キーワード密度と文字数の妥当性

#### Phase 6: 最終まとめ
1. `CHAT_06_finalize.md` を開く
2. 全フェーズの成果物を貼り付け
3. LLMに送信
4. **最終出力**: 
   - research_results.json
   - factcheck_report.json
   - seo_metadata.json
   - final_article.html
   - deliverables_summary.md

## v2.1の特徴

### 明確な役割分担
- **Phase 2**: 記事の**構成**を決定
- **Phase 3**: 構成に従って**実装**（スタイル仕様書を参照）
- **article-style.md**: CSSクラス名の**仕様書**（テンプレートではない）

### WordPress対応
- 生成されたHTMLをWordPressのHTMLブロックに直接貼り付け可能
- セマンティックなマークアップ
- アンカーリンクが正しく機能する目次

### 柔軟性の向上
- 記事構成は別途指示により自由に変更可能
- スタイル仕様は必要に応じて使用
- 過度に固定的なテンプレートを避ける

## 品質保証のポイント（v2.1追加項目）

### Phase 2 (構成生成)
- [ ] ペルソナに最適化された構成
- [ ] 各セクションの目的と内容が明確
- [ ] 文字数配分が適切

### Phase 3 (記事生成)
- [ ] **Phase 2の構成を忠実に実装**
- [ ] article-style.mdのクラス名を適切に使用
- [ ] セマンティックなHTML構造
- [ ] アンカーリンクが正しく設定された目次
- [ ] 出典リンクが5つ以上
- [ ] ブログカードが自然に配置

## トラブルシューティング

### v2.1特有の注意点

**Phase 2の構成と合わない**
→ Phase 3ではPhase 2の構成を最優先。必ず構成通りに実装。

**クラス名の使い方が分からない**
→ article-style.mdは仕様書。必要なパーツのクラス名を選んで使用。

**目次のリンクが機能しない**
→ `href="#section1"`と`id="section1"`が一致しているか確認。

**WordPressで表示が崩れる**
→ HTMLブロックまたはカスタムHTMLブロックを使用。

## 推定作業時間

- **Phase 1**: 10-15分
- **リサーチ**: 30-60分（重要）
- **Phase 2**: 15-20分
- **Phase 3**: 20-30分
- **Phase 4**: 15-20分
- **Phase 5**: 10-15分
- **Phase 6**: 10-15分

**合計**: 約2-3時間（リサーチ時間を含む）

## 移行ガイド（v2→v2.1）

既存のv2ワークフローから移行する場合：

1. **article-style.mdを最新版に更新** - スタイル仕様書として再定義
2. **Phase 3プロンプトをv2版に置き換え** - `CHAT_03_content_generation_v2.md`を使用
3. **構成の重要性を認識** - Phase 2で決定した構成がPhase 3の基盤

## 注意事項

1. **各フェーズの結果を必ず保存**してから次に進む
2. **Phase 2の構成が記事の骨格**となることを意識
3. **リサーチ情報は実際のURL付き**で準備する
4. **関連記事URLは記事テーマに適したもの**を選択
5. **スタイルは外部CSSで管理**される前提
6. **修正が必要な場合は該当フェーズに戻る**
7. **最終確認は必ず人間の目でチェック**する

---

これらのプロンプトを使用することで、柔軟で高品質な記事を効率的に生成できます。